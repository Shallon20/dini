{% extends 'master.html' %}
{% load static %}

{% block title %}
    <title>Welcome to the Deaf Community</title>
{% endblock %}
{% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
{% endblock %}

{% block content %}

    <!-- Latest News & Events Section -->
    <section id="news-events" class="news-events section">
        <div class="container">
            <div class="section-header text-center">
                <h2>Latest News & Events</h2>
                <p>Stay updated with the latest happenings in the Deaf community.</p>
            </div>
            <div class="row">
                {% for event in events %}
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="news-item bg-white shadow rounded p-3">
                            <img src="{{ event.image.url }}" alt="{{ event.title }}" class="img-fluid rounded">
                            <h4 class="mt-3">{{ event.title }}</h4>
                            <p>{{ event.short_description }}</p>
                            <p class="text-muted"><small>Published on: {{ event.date_created|date:"F d, Y" }}</small>
                            </p>
                            <a href="{% url 'event_detail' event.id %}" class="btn btn-secondary">Read More</a>
                        </div>
                    </div>
                {% empty %}
                    <div class="col-12 text-center">
                        <p class="text-muted">No news or events available at the moment.</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </section>

    <!-- /Latest News & Events Section -->

    <!-- Featured Services Section -->
    <section id="featured-services" class="featured-services section">
        <div class="container">
            <div class="row gy-4">
                {% for service in featured_services %}
                <div class="col-xl-3 col-md-6 d-flex" data-aos="fade-up" data-aos-delay="{{ forloop.counter0|add:1 }}00">
                    <div class="service-item position-relative">
                        <div class="icon"><i class="{{ service.icon_class }} icon"></i></div>
                        <h4><a href="{{ service.link }}" class="stretched-link">{{ service.title }}</a></h4>
                        <p>{{ service.description }}</p>
                    </div>
                </div>
            {% endfor %}
            </div>
        </div>
    </section><!-- /Featured Services Section -->

    <!-- Call To Action Section -->
    <section id="call-to-action" class="call-to-action section accent-background">
        <div class="container">
            <div class="row justify-content-center" data-aos="zoom-in" data-aos-delay="100">
                <div class="col-xl-10">
                    <div class="text-center">
                        <h3>Join Us as a Sign Language Interpreter</h3>
                        <p>Are you a skilled sign language interpreter looking to make a difference? Apply today and be
                            part of a team dedicated to bridging communication gaps in the Deaf community.</p>
                        <a class="cta-btn" href="{% url 'job_application' %}">Apply Now</a>
                    </div>
                </div>
            </div>
        </div>
    </section><!-- /Call To Action Section -->
    <!-- Gallery Section -->
    <section id="gallery" class="gallery section">

        <!-- Section Title -->
        <div class="container section-title" data-aos="fade-up">
            <h2>Gallery</h2>
            <p>Explore our collection of moments captured in the deaf community.</p>
        </div><!-- End Section Title -->
    
        <div class="container">
            <h2 class="text-center">Gallery</h2>

            <!-- Responsive Image Grid -->
            <div class="row g-4">
                {% for image in images %}
                    <div class="col-6 col-md-4 col-lg-3">
                        <a class="glightbox" data-gallery="images-gallery" href="{{ image.image.url }}">
                            <img src="{{ image.image.url }}" class="img-fluid" alt="{{ image.title }}">
                        </a>
                    </div>
                {% empty %}
                    <p class="text-center">No images available</p>
                {% endfor %}
            </div>
        </div>

    </section><!-- /Gallery Section -->

{% endblock %}
